(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2182f156"],{3248:function(e,t,a){"use strict";var n=a("f1a3"),i=a.n(n);i.a},"3a64":function(e,t,a){"use strict";var n=a("5183"),i=a.n(n);i.a},5183:function(e,t,a){},"5c19":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"AddWeChatPay"},[a("HeaderNav"),a("main",{staticClass:"addWeChatPay-main"},[e._l(e.addWeChatPayData,(function(t,n){return a("div",[a("div",{staticClass:"addWeChatPay-list"},[e._v(" "+e._s(t.listName)+" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.addWeChatPayData[n].value,expression:"addWeChatPayData[i].value"}],attrs:{type:"text",placeholder:t.placeholder},domProps:{value:e.addWeChatPayData[n].value},on:{input:function(t){t.target.composing||e.$set(e.addWeChatPayData[n],"value",t.target.value)}}})]),1===n?a("div",{staticClass:"QRcode"},[a("img",{attrs:{src:e.form.imgURL,alt:""}}),a("input",{attrs:{type:"file",name:"",id:"",value:"",name:"saveFile",accept:"image/*"},on:{change:function(t){return e.tirggerFile(t)}}}),""===e.form.imgURL?a("p",[a("span",[e._v("点击上传收款二位码")])]):e._e()]):e._e()])})),e._m(0),a("NumericKeypad",{on:{safepwd:e.safepwd}})],2)],1)},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"remind"},[a("p",[e._v("1，为确保您能及时正确的收到款项，请务必填写正确的收款信息，否则将无法到账。")]),a("p",[e._v("2，为确保信息安全，交易安全码设定完成后将无法修改，如需修改请删除该条目后重新添加。")])])}],s=(a("c975"),a("ace4"),a("b0c0"),a("d3b7"),a("ac1f"),a("1276"),a("5cc6"),a("9a8c"),a("a975"),a("735e"),a("c1ac"),a("d139"),a("3a7b"),a("d5d6"),a("82f8"),a("e91f"),a("60bd"),a("5f96"),a("3280"),a("3fcc"),a("ca91"),a("25a1"),a("cd26"),a("3c5d"),a("2954"),a("649e"),a("219c"),a("170b"),a("b39a9"),a("72f7"),a("c330")),o=a("80b0"),r=a("365c"),c=a("76a0"),d={components:{HeaderNav:s["a"],NumericKeypad:o["a"]},data:function(){return{addWeChatPayData:[{listName:"姓名",placeholder:"请输入姓名",value:""},{listName:"微信帐号",placeholder:"请输入微信帐号",value:""}],form:{imgURL:"",img:""},insertData:{name:"",bankName:"",no:"",image:"",type:3,safeCode:""},safeCode:""}},methods:{tirggerFile:function(e){var t=e.target.files[0],a=t.size,n=new FormData;n.append("file",t,t.name),n.append("type","1"),e.target.files.length&&(a/1024>1e4||this.imgPreview(t))},imgPreview:function(e,t){var a=this,n={headers:{"Content-Type":"multipart/form-data"}};if(e&&window.FileReader){var i=new FileReader;i.readAsDataURL(e),i.onloadend=function(){var t=this.result,i=new Image;i.src=t,i.onload=function(){var s=a.compress(i);a.imgUrl=t;var o=a.dataURItoBlob(s),d=new FormData;d.append("file",o,e.name),Object(r["f"])(d,n).then((function(e){!1!==e.Success?(a.form.imgURL=e.Data.Url,a.insertData.image=e.Data.Url):Object(c["Toast"])({message:e.Msg,iconClass:"mint-toast-icon mintui mintui-field-error icon-black",duration:3e3})}))}}}},compress:function(e){var t=document.createElement("canvas"),a=t.getContext("2d"),n=e.width,i=e.height,s=320,o=320,r=n,c=i;(n>s||i>o)&&(n/i>s/o?(r=s,c=Math.round(s*(i/n))):(c=o,r=Math.round(o*(n/i)))),t.width=r,t.height=c,a.fillStyle="#fff",a.fillRect(0,0,t.width,t.height),a.drawImage(e,0,0,r,c);var d=t.toDataURL("image/jpeg",.5);return d},dataURItoBlob:function(e){var t;t=e.split(",")[0].indexOf("base64")>=0?atob(e.split(",")[1]):unescape(e.split(",")[1]);for(var a=e.split(",")[0].split(":")[1].split(";")[0],n=new Uint8Array(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return new Blob([n],{type:a})},submit:function(){var e=this;this.insertData.name=this.addWeChatPayData[0].value,this.insertData.no=this.addWeChatPayData[1].value,this.insertData.safeCode=this.safeCode,""!==this.insertData.name?""!==this.insertData.no?""!==this.insertData.image?""===this.insertData.safeCode?Object(c["Toast"])({message:"请输入安全码",iconClass:"mint-toast-icon mintui mintui-field-error icon-black",duration:2e3}):Object(r["e"])(this.insertData,!0).then((function(t){t.success?(Object(c["Toast"])({message:t.msg,iconClass:"icon-success",duration:2e3}),e.backrouter(),setTimeout((function(){var t=e.$storage.session.get("backurl");if(""!=t)return e.$storage.session.set("backurl",""),void e.$router.push({name:t});e.$router.push({name:"SetCollectionPage"})}),2e3)):Object(c["Toast"])({message:t.msg,iconClass:"mint-toast-icon mintui mintui-field-error icon-black",duration:2e3})})):Object(c["Toast"])({message:"请上传微信收款二维码",iconClass:"mint-toast-icon mintui mintui-field-error icon-black",duration:2e3}):Object(c["Toast"])({message:"请输入微信账号",iconClass:"mint-toast-icon mintui mintui-field-error icon-black",duration:2e3}):Object(c["Toast"])({message:"请输入姓名",iconClass:"mint-toast-icon mintui mintui-field-error icon-black",duration:2e3})},safepwd:function(e){this.safeCode=e},backrouter:function(){var e=this;setTimeout((function(){var t=e.$storage.session.get("backurl");if(null!=t)return e.$storage.session.set("backurl",null),void e.$router.push({name:t});e.$router.push({name:"SetCollectionPage"})}),2e3)}}},l=d,u=(a("3248"),a("2877")),m=Object(u["a"])(l,n,i,!1,null,"7f5b271c",null);t["default"]=m.exports},"80b0":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"NumericKeypad"},[a("div",{staticClass:"pay",on:{click:function(t){return e.openkeyboard()}}},[e._v(" 确认添加 ")])])},i=[],s={data:function(){return{isPwdInput:{pwdArr:[1,2,3,4,5,6,7,8,9,"",0,"删除"],init:function(e){this.template();for(var t=this,a="",n=document.getElementsByClassName("pwd_btn"),i=0;i<n.length;i++)n[i].addEventListener("click",(function(n){var i=n.target.dataset.item;if(""!=i){if("删除"==i){if(""==a)return;return a=a.substring(0,a.length-1),void t.callbackPwd(a,e,i)}a+=i,t.callbackPwd(a,e),a.length>=6&&t.close(e)}}));var s=document.getElementsByClassName("pwd_close")[0];s.addEventListener("click",(function(a){t.close(e)}))},callbackPwd:function(e,t,a){"删除"==a?this.removeClass(e):this.addClass(e),t&&t({pwd:e})},template:function(){for(var e="",t="",a=0;a<6;a++)e+='<span class="pwd_line"></span>';for(a=0;a<this.pwdArr.length;a++){var n=this.pwdArr[a];t+="number"==typeof n?'<span class="pwd_btn pwd_line" data-item='+n+">"+n+"</span>":'<span class="pwd_btn pwd_line pwd_gray '+("删除"==n?"pwd_delete":"")+'" data-item='+n+"></span>"}var i='<div class="pwd_fixed" id="pwd_fixed"><div class="pwd_box"><div class="pwd_title"><span class="pwd_close"></span><span>请输入安全码</span></div><div class="pwd_input pwd_line">'+e+'</div><div class="pwd_num">'+t+"</div></div></div>";document.querySelector(".NumericKeypad").insertAdjacentHTML("beforeend",i),setTimeout((function(){document.querySelectorAll(".pwd_box")[0].classList.add("on")}),100)},addClass:function(e){for(var t=0;t<e.length;t++)document.querySelectorAll(".pwd_input span")[t].classList.add("on")},removeClass:function(e){document.querySelectorAll(".pwd_input span")[e.length].classList.remove("on")},open:function(e){this.init(e),e&&e({type:0})},close:function(e){document.querySelectorAll(".pwd_box")[0].classList.remove("on"),e&&e({type:1}),setTimeout((function(){document.getElementById("pwd_fixed").remove()}),100)}}}},methods:{openkeyboard:function(){var e=this;this.isPwdInput.open((function(t){t.pwd&&6==t.pwd.length&&(e.$emit("safepwd",t.pwd),e.$parent.submit())}))}}},o=s,r=(a("3a64"),a("2877")),c=Object(r["a"])(o,n,i,!1,null,null,null);t["a"]=c.exports},f1a3:function(e,t,a){}}]);